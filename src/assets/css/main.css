
:root{--brand:#66ccff;--brand-alpha:#66ccff;--accent:#39C5BB;--bg:#fff;--text:#222;--muted:#666;--card:#fff;--card-alt:#f5f8ff;--panel:#f3f9ff;--border:#e5e5e5;--shadow:0 8px 30px rgba(0,0,0,.06);--topbar-height:3rem}
[data-theme="dark"]{--bg:#0e1016;--text:#d0d3d8;--muted:#9ba3b1;--card:#181c24;--card-alt:#1f2530;--panel:rgba(102,204,255,.1);--border:#262c37;--shadow:0 10px 30px rgba(0,0,0,.45)}
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans",sans-serif;background:var(--bg);color:var(--text);scroll-behavior:smooth}
a{color:inherit;text-decoration:none}img{max-width:100%;display:block}.container{width:min(1100px,96%);margin:0 auto}
.topbar{position:sticky;top:0;z-index:1000;background:var(--brand-alpha);backdrop-filter:saturate(180%) blur(4px);box-shadow:0 1px 0 rgba(0,0,0,.06);min-height:var(--topbar-height);}
.topbar .nav{display:flex;align-items:center;justify-content:space-between;padding:0 8px;height:100%;min-height:0;max-height:none;line-height:1;background:var(--brand-alpha);}
.nav-left,.nav-right{display:flex;align-items:center;gap:.6rem;background:var(--brand-alpha)}
.brand{font-weight:700;font-size:1rem;cursor:pointer}
.dropdown{position:relative}
.dropdown>button{background:transparent;border:none;padding:.2rem .4rem;border-radius:.4rem;cursor:pointer;font-size:.9rem;line-height:1}
.dropdown-menu{position:absolute;top:100%;left:0;min-width:260px;background:var(--card);color:var(--text);border-radius:.6rem;box-shadow:var(--shadow);padding:.4rem;display:none}
.dropdown:hover .dropdown-menu,.dropdown:focus-within .dropdown-menu{display:block}
.dropdown-menu ul{list-style:none;margin:0;padding:.2rem}
.dropdown-menu li{padding:.4rem .5rem;border-radius:.4rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.dropdown-menu li:hover{background:var(--panel)}
.search{flex:1;display:flex;align-items:center;gap:.5rem;max-width:480px}
.search input{flex:1;padding:.2rem .6rem;border-radius:1rem;border:1px solid var(--border);background:var(--card);color:var(--text);height:28px}
.nav-avatar{width:32px;height:32px;max-width:32px;max-height:32px;border-radius:50%;overflow:hidden;border:1px solid #fff;cursor:pointer}
.nav-avatar img{width:100%;height:100%;object-fit:cover;border-radius:50%;max-width:32px;max-height:32px}
.avatar-wrap{position:relative}
.avatar-card{position:absolute;right:0;top:100%;background:var(--card);color:var(--text);border-radius:.6rem;box-shadow:var(--shadow);width:300px;padding:.6rem;display:none}
.avatar-wrap:hover .avatar-card,.avatar-wrap:focus-within .avatar-card{display:block}
.avatar-row{display:flex;gap:.6rem;align-items:center;margin:.25rem 0}
.avatar-card .icons a{font-size:1.1rem;margin-right:.6rem}
.toggle{cursor:pointer;border:none;background:transparent;font-size:1rem}
.date{font-variant-numeric:tabular-nums;font-size:.85rem;line-height:1}
.github{padding:.2rem .5rem;border:1px solid rgba(255,255,255,.35);border-radius:.4rem;background:rgba(255,255,255,.12);color:#fff;font-size:.85rem;line-height:1}
.github:hover{background:rgba(255,255,255,.2)}
.hero{min-height:80vh;display:flex;align-items:center;justify-content:center;flex-direction:column;background-size:cover;background-position:center;text-align:center;position:relative}
.hero .title{font-size:3rem;margin:.8rem 0 .4rem;color:var(--brand)}.hero .actions{display:flex;gap:1rem;margin-top:1rem}
.hero-stats,.hero-fortune{position:absolute;bottom:1rem;font-size:.9rem;display:flex;flex-direction:column;gap:.2rem}
.hero-stats{left:1rem;text-align:left}
.hero-fortune{right:1rem;text-align:right}
.btn{padding:.6rem 1rem;border-radius:999px;border:none;background:#fff;color:#000;cursor:pointer;box-shadow:0 6px 15px rgba(0,0,0,.1)}
.btn-brand{background:var(--brand);color:#00344d}.btn-ghost{background:#fff}.small{font-size:.9rem}
.footer{padding:2rem 0;color:var(--muted)}.list{display:flex;gap:1.2rem}.list .left{flex:1}.list .right{flex:2;text-align:right}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1.2rem}.card{background:var(--card);border-radius:1rem;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column}
.card .cover{height:180px;overflow:hidden;background:var(--card-alt)}.card .cover img{width:100%;height:100%;object-fit:cover}.card .body{padding:1rem}.card .meta{font-size:.8rem;color:var(--muted)}
.tag-cloud{position:sticky;top:5.5rem;align-self:start;background:var(--card);border:1px solid var(--border);border-radius:1rem;padding:1rem}
.tag-cloud a{display:inline-block;margin:.25rem .35rem;padding:.15rem .5rem;border-radius:.8rem;background:var(--card-alt)}
.tag-cloud a[data-size=xs]{font-size:.8rem}.tag-cloud a[data-size=sm]{font-size:.9rem}.tag-cloud a[data-size=md]{font-size:1rem}.tag-cloud a[data-size=lg]{font-size:1.2rem}.tag-cloud a[data-size=xl]{font-size:1.4rem}
.main{padding:1.2rem 0}.list-page{display:flex;gap:1.2rem}.list-page .left{flex:1}.list-page .right{flex:2}
.entry{display:grid;grid-template-columns:1.2fr 1fr;gap:1.2rem;align-items:center;margin:1rem 0;background:var(--card);border-radius:1rem;overflow:hidden;box-shadow:var(--shadow)}
.entry .media{height:220px;overflow:hidden;background:var(--card-alt)}.entry .media img{width:100%;height:100%;object-fit:cover}.entry .content{padding:1rem}
.entry:nth-child(even){grid-template-columns:1fr 1.2fr}.entry:nth-child(even) .media{order:2}.entry:nth-child(even) .content{text-align:right}
.entry h3{margin:.2rem 0}.entry .meta{color:var(--muted);font-size:.85rem}
.paginate{display:flex;justify-content:space-between;margin:2rem 0}.paginate .page-btn{padding:.5rem 1rem;border-radius:999px;background:var(--card-alt);border:1px solid var(--border)}
.article-hero{height:50vh;display:flex;align-items:center;justify-content:center;background-size:cover;background-position:center;position:relative}
.article-hero .article-title{font-size:3rem;color:#fff;text-shadow:0 4px 40px rgba(0,0,0,.35)}
.toc{position:fixed;left:1rem;top:7rem;width:260px;max-height:70vh;overflow:auto;background:var(--card);border-radius:1.2rem;border:3px solid var(--accent);padding:1rem;opacity:0;transform:translateY(-10px);transition:all .3s ease}
.toc.show{opacity:1;transform:none}.toc .toc-title{font-weight:700;margin-bottom:.5rem}.toc ul{list-style:decimal;padding-left:1.2rem}.toc a{color:#0366d6}
.article{max-width:860px;margin:0 auto}.article h2,.article h3{scroll-margin-top:80px}.article .meta{color:var(--muted);margin:.5rem 0 1rem}
.article img{border-radius:.5rem}.article pre{border-radius:.8rem;overflow:auto}.katex-display{overflow:auto}
.article-end{margin-top:2.5rem;border-top:1px dashed var(--border);padding-top:1.2rem}
.tags a{display:inline-block;margin:.2rem .25rem;padding:.2rem .6rem;background:var(--card-alt);border-radius:1rem}
.prevnext{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-top:1rem}
.prevnext a{position:relative;display:block;border-radius:1rem;overflow:hidden;min-height:140px;color:#fff}
.prevnext a .label{position:absolute;inset:0;background:linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.6));display:flex;align-items:center;justify-content:center;text-align:center;padding:1rem}
.backTop{position:fixed;right:1rem;bottom:1.2rem;padding:.5rem .7rem;border-radius:999px;background:var(--card);box-shadow:var(--shadow);cursor:pointer;display:none}
.music-controls{position:fixed;left:1rem;bottom:4.6rem;display:flex;flex-direction:row;gap:.35rem;align-items:center;z-index:998}
.music-toggle{width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;border:1px solid rgba(255,255,255,.35);background:rgba(0,0,0,.25);color:#fff;font-size:1rem;backdrop-filter:saturate(180%) blur(4px);cursor:pointer}
.music-toggle:hover{background:rgba(0,0,0,.32)}
.hero-avatar{width:96px;height:96px;border-radius:50%;overflow:hidden;border:3px solid #fff;box-shadow:0 6px 16px rgba(0,0,0,.12)}
.hero-avatar img{width:100%;height:100%;object-fit:cover;border-radius:50%}
@media (max-width:980px){
  .topbar{height:auto;padding:.4rem 0}
  .nav{flex-direction:row;flex-wrap:wrap;align-items:center;gap:.4rem;padding:0 8px}
  .nav-left,.nav-right{width:100%;flex:1 1 auto;flex-wrap:wrap;align-items:center;gap:.4rem}
  .nav-left{justify-content:space-between}
  .nav-right{display:none}
  .brand{font-size:1rem}
  .dropdown>button{padding:.25rem .45rem}
  .dropdown-menu{position:static;display:none;box-shadow:none;background:transparent;padding:.1rem 0}
  .dropdown:hover .dropdown-menu,.dropdown:focus-within .dropdown-menu{display:block}
  .dropdown-menu ul{display:flex;flex-wrap:wrap;gap:.2rem;margin:0;padding:0}
  .dropdown-menu li{padding:.2rem .4rem}
  .search{display:flex;order:3;width:100%;max-width:none}
  .search input{width:100%}
  .nav-right .date{order:2;font-size:.85rem}
  .github{order:3}
  .hero{min-height:70vh;padding:2rem 1rem;text-align:center}
  .hero .title{font-size:2.4rem}
  .hero .actions{flex-direction:column;width:100%;max-width:340px}
  .hero .btn{width:100%;text-align:center}
  .hero-stats,.hero-fortune{position:static;width:100%;margin-top:1rem;gap:.3rem;display:flex;flex-direction:column}
  .hero-stats{text-align:left}
  .hero-fortune{text-align:right;align-items:flex-end}
  .article-hero{height:38vh;padding:0 1rem}
  .article-hero .article-title{font-size:2.2rem;text-align:center}
  .grid{grid-template-columns:1fr}
  .list-page{flex-direction:column}
  .tag-cloud{position:static;width:100%;display:flex;flex-wrap:wrap;gap:.4rem;padding:1rem}
  .entry{grid-template-columns:1fr}
  .entry:nth-child(even){grid-template-columns:1fr}
  .entry:nth-child(even) .media{order:0}
  .entry:nth-child(even) .content{text-align:left}
  .paginate{flex-direction:column;gap:.6rem}
  .prevnext{grid-template-columns:1fr}
  .footer .list{flex-direction:column;align-items:flex-start;gap:.4rem}
  .toc{display:none}
  .music-controls{left:.8rem;bottom:4rem}
}
